<!DOCTYPE html>
<html>
<head>

    <meta charset="utf-8">
    <meta name="viewport" content="initial-scale=1,maximum-scale=1,user-scalable=no">
    <title>BasemapGallery</title>

    <link rel="stylesheet" href="https://js.arcgis.com/4.4/esri/css/main.css">
    <script src="https://js.arcgis.com/4.4/"></script>

    <style>
        html,
        body,
        #viewDiv {
            padding: 0;
            margin: 0;
            height: 100%;
            width: 100%;
        }
    </style>

    <script>
    require([
      "esri/Map",
      "esri/views/MapView",
      "esri/layers/FeatureLayer",
      "esri/renderers/smartMapping/creators/type",
      "esri/widgets/Legend",
      "esri/widgets/BasemapGallery",
      "esri/widgets/Expand",
      "dojo/domReady!"
    ], function(
      Map, MapView, FeatureLayer, typeRendererCreator,
      Legend, BasemapGallery, Expand
    ) {

      // Create a map and add it to a MapView

      //var map = new Map({
      //  basemap: "gray"
        //});
        var map = new Map({
            basemap: "satellite"
        });

      var view = new MapView({
        container: "viewDiv",
        map: map,
        center: [-100, 39],
        zoom: 5
      });

      // Add a legend to the view

      //var legend = new Legend({
      //  view: view
      //});
      //view.ui.add(legend, "bottom-left");

      var bg = new BasemapGallery({
        view: view,
        container: document.createElement("div")
      });

      // Call generateRenderer() anytime the user switches the basemap

     // bg.watch("activeBasemap", generateRenderer);

      // Collapse the basemap gallery widget in the expand widget

      var expand = new Expand({
        view: view,
        content: bg.container,
        expandIconClass: "esri-icon-basemap"
      });
      view.ui.add(expand, "top-right");

      // Create FeatureLayer instance with popupTemplate



  

    });
    </script>
</head>

<body>
    <div id="viewDiv"></div>
</body>

</html>